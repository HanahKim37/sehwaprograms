import streamlit as st

def render_sidebar():
    # ----- í˜ì´ì§€ ì´ë™ í•¨ìˆ˜ -----
    def go(page_name):
        st.switch_page(page_name)

    # ----- ì‚¬ì´ë“œë°” ê³ ê¸‰ ë””ìì¸ -----
    sidebar_style = """
    <style>
    [data-testid="stSidebar"] {
        background-color: #f8f9fa;
        padding: 20px;
    }
    .sidebar-title {
        font-size: 20px; 
        font-weight: 700;
        margin-bottom: 15px;
        color: #333;
    }
    </style>
    """
    st.markdown(sidebar_style, unsafe_allow_html=True)

    st.sidebar.markdown(
        '<div class="sidebar-title">ğŸ“‚ ë¶€ì„œë³„ ë©”ë‰´</div>',
        unsafe_allow_html=True
    )

    menu = {
        "êµë¬´ë¶€": {
            "ì‹œê°„í‘œ ê´€ë¦¬": "pages/01_êµë¬´ë¶€_ì‹œê°„í‘œê´€ë¦¬.py",
            "ì¶œê²° í™•ì¸": "pages/02_êµë¬´ë¶€_ì¶œê²°í™•ì¸.py",
            "ì„±ì  ì²˜ë¦¬": "pages/03_êµë¬´ë¶€_ì„±ì ì²˜ë¦¬.py",
        },
        "ì§„ë¡œì§„í•™ë¶€": {
            "ì§„í•™ ìë£Œ ì—´ëŒ": "pages/04_ì§„ë¡œì§„í•™ë¶€_ì§„í•™ìë£Œì—´ëŒ.py",
            "ìƒë‹´ ê¸°ë¡ ê´€ë¦¬": "pages/05_ì§„ë¡œì§„í•™ë¶€_ìƒë‹´ê¸°ë¡ê´€ë¦¬.py",
            "ì§„ë¡œ ì„¤ë¬¸ ë¶„ì„": "pages/06_ì§„ë¡œì§„í•™ë¶€_ì„¤ë¬¸ë¶„ì„.py",
        },
        "ì°½ì˜ì¸ì„±ë¶€": {
            "ë´‰ì‚¬í™œë™ ê´€ë¦¬": "pages/07_ì°½ì˜ì¸ì„±ë¶€_ë´‰ì‚¬ê´€ë¦¬.py",
            "í”„ë¡œì íŠ¸ ê´€ë¦¬": "pages/08_ì°½ì˜ì¸ì„±ë¶€_í”„ë¡œì íŠ¸ê´€ë¦¬.py",
            "ì°½ì˜íƒêµ¬í˜ìŠ¤í‹°ë²Œ": "pages/09_ì°½ì˜ì¸ì„±ë¶€_íƒêµ¬í˜ìŠ¤í‹°ë²Œ.py",
        },
        "ì—°êµ¬ë¶€": {
            "ì—°êµ¬ ê³¼ì œ ê´€ë¦¬": "pages/10_ì—°êµ¬ë¶€_ê³¼ì œê´€ë¦¬.py",
            "ìë£Œ ì—…ë¡œë“œ": "pages/11_ì—°êµ¬ë¶€_ìë£Œì—…ë¡œë“œ.py",
            "ì„¸ë¯¸ë‚˜ ê¸°ë¡": "pages/12_ì—°êµ¬ë¶€_ì„¸ë¯¸ë‚˜ê¸°ë¡.py",
        },
        "ìƒí™œì•ˆì „ë¶€": {
            "ìƒí™œì§€ë„ ê¸°ë¡": "pages/13_ìƒí™œì•ˆì „ë¶€_ìƒí™œì§€ë„ê¸°ë¡.py",
            "ìƒë²Œì  ê´€ë¦¬": "pages/14_ìƒí™œì•ˆì „ë¶€_ìƒë²Œì ê´€ë¦¬.py",
            "ì•ˆì „ ì ê²€í‘œ": "pages/15_ìƒí™œì•ˆì „ë¶€_ì ê²€í‘œ.py",
        },
        "í•™ë…„ë¶€": {
            "ìƒê¸°ë¶€ ìƒë‹´ë³´ê³ ì„œ": "pages/ìƒê¸°ë¶€_ìƒë‹´ë³´ê³ ì„œ.py",
        }
    }

    icons = {
        "êµë¬´ë¶€": "ğŸ«",
        "ì§„ë¡œì§„í•™ë¶€": "ğŸ“",
        "ì°½ì˜ì¸ì„±ë¶€": "ğŸŒ±",
        "ì—°êµ¬ë¶€": "ğŸ”¬",
        "ìƒí™œì•ˆì „ë¶€": "ğŸ›¡ï¸",
        "í•™ë…„ë¶€": "ğŸ“˜",
    }

    for dept, items in menu.items():
        with st.sidebar.expander(f"{icons.get(dept,'')} {dept}", expanded=False):
            for name, page in items.items():
                if st.button(f"â€¢ {name}", key=f"{dept}_{name}"):
                    go(page)
